/**
 * Calculate the bounding box for a given latitude and longitude and a distance in meters
 * @param lat - The latitude
 * @param lon - The longitude
 * @param distanceInMeters - The distance in meters
 * @returns The bounding box
 */
export function calculateBoundingBox(
  lat: number,
  lon: number,
  distanceInMeters: number,
) {
  // Earth's radius in meters
  const earthRadius = 6378137;

  // Latitude calculations
  const latDelta = distanceInMeters / earthRadius;
  const minLat = lat - latDelta * (180 / Math.PI);
  const maxLat = lat + latDelta * (180 / Math.PI);

  // Longitude calculations (adjusting by latitude)
  const lonDelta =
    distanceInMeters / (earthRadius * Math.cos((Math.PI * lat) / 180));
  const minLon = lon - lonDelta * (180 / Math.PI);
  const maxLon = lon + lonDelta * (180 / Math.PI);

  return {
    minLat,
    maxLat,
    minLon,
    maxLon,
  };
}
