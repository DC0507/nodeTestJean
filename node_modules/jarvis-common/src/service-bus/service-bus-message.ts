import { ServiceBusMessage } from '@azure/service-bus';

export class TypedMessage<T> {
  body: T;
  constructor(body: T) {
    this.body = body;
  }

  toServiceBusMessage(): ServiceBusMessage {
    return { body: this.body };
  }

  toHttpMessage(): any {
    return {
      body: JSON.stringify(this.body),
      headers: {
        'Content-Type': 'application/json',
      },
    };
  }
}
